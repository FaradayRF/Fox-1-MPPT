EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:KB1LQC
LIBS:TL1451_MPPT_Flight_Rev1-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 4 36
Title "Fox-1 Maximum Power Point Tracker"
Date "5 may 2014"
Rev "1"
Comp "The Radio Amateur Satellite Corporation"
Comment1 "Bryce Salmi, KB1LQC"
Comment2 "Brent Salmi, KB1LQD"
Comment3 "Based on Rochester Institute of Technology P13271 Design"
Comment4 ""
$EndDescr
Text HLabel 3050 2500 0    60   Input ~ 0
Panel
Text HLabel 8550 3200 2    60   Output ~ 0
Output
Text HLabel 4650 3700 0    60   Input ~ 0
NMOS_PWM
$Comp
L MOSFET_N Q1
U 1 1 5347E2A5
P 5650 3700
AR Path="/534A39B0/53479B00/5347AA65/5347E2A5" Ref="Q1"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E2A5" Ref="Q5"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E2A5" Ref="Q9"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E2A5" Ref="Q13"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E2A5" Ref="Q17"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E2A5" Ref="Q21"  Part="1" 
F 0 "Q5" H 5660 3870 60  0000 R CNN
F 1 "MOSFET_N" H 5600 3500 60  0000 R CNN
F 2 "SOT23" H 5650 3700 60  0001 C CNN
F 3 "" H 5650 3700 60  0000 C CNN
	1    5650 3700
	1    0    0    -1  
$EndComp
$Comp
L C C6
U 1 1 5347E2CD
P 6000 3200
AR Path="/534A39B0/53479B00/5347AA65/5347E2CD" Ref="C6"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E2CD" Ref="C24"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E2CD" Ref="C33"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E2CD" Ref="C42"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E2CD" Ref="C51"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E2CD" Ref="C60"  Part="1" 
F 0 "C24" H 6000 3300 40  0000 L CNN
F 1 "10uF" H 6006 3115 40  0000 L CNN
F 2 "C1206" H 6038 3050 30  0001 C CNN
F 3 "" H 6000 3200 60  0000 C CNN
	1    6000 3200
	0    -1   -1   0   
$EndComp
$Comp
L C C5
U 1 1 5347E2EB
P 3900 2900
AR Path="/534A39B0/53479B00/5347AA65/5347E2EB" Ref="C5"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E2EB" Ref="C23"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E2EB" Ref="C32"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E2EB" Ref="C41"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E2EB" Ref="C50"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E2EB" Ref="C59"  Part="1" 
F 0 "C23" H 3900 3000 40  0000 L CNN
F 1 "10uF" H 3906 2815 40  0000 L CNN
F 2 "C1206" H 3938 2750 30  0001 C CNN
F 3 "" H 3900 2900 60  0000 C CNN
	1    3900 2900
	1    0    0    -1  
$EndComp
$Comp
L C C7
U 1 1 5347E2FF
P 7850 3600
AR Path="/534A39B0/53479B00/5347AA65/5347E2FF" Ref="C7"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E2FF" Ref="C25"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E2FF" Ref="C34"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E2FF" Ref="C43"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E2FF" Ref="C52"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E2FF" Ref="C61"  Part="1" 
F 0 "C25" H 7850 3700 40  0000 L CNN
F 1 "20.3uF" H 7856 3515 40  0000 L CNN
F 2 "C1812" H 7888 3450 30  0001 C CNN
F 3 "" H 7850 3600 60  0000 C CNN
	1    7850 3600
	1    0    0    -1  
$EndComp
$Comp
L DIODESCH D1
U 1 1 5347E313
P 7150 3200
AR Path="/534A39B0/53479B00/5347AA65/5347E313" Ref="D1"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E313" Ref="D2"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E313" Ref="D3"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E313" Ref="D4"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E313" Ref="D5"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E313" Ref="D6"  Part="1" 
F 0 "D2" H 7150 3300 40  0000 C CNN
F 1 "PMEG3020EP" H 7150 3100 40  0000 C CNN
F 2 "SOD123" H 7150 3200 60  0001 C CNN
F 3 "" H 7150 3200 60  0000 C CNN
	1    7150 3200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 5347E399
P 3900 3200
AR Path="/534A39B0/53479B00/5347AA65/5347E399" Ref="#PWR036"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E399" Ref="#PWR088"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E399" Ref="#PWR0114"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E399" Ref="#PWR0140"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E399" Ref="#PWR0166"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E399" Ref="#PWR0192"  Part="1" 
F 0 "#PWR088" H 3900 3200 30  0001 C CNN
F 1 "GND" H 3900 3130 30  0001 C CNN
F 2 "" H 3900 3200 60  0000 C CNN
F 3 "" H 3900 3200 60  0000 C CNN
	1    3900 3200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR037
U 1 1 5347E3C3
P 6550 2850
AR Path="/534A39B0/53479B00/5347AA65/5347E3C3" Ref="#PWR037"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E3C3" Ref="#PWR089"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E3C3" Ref="#PWR0115"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E3C3" Ref="#PWR0141"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E3C3" Ref="#PWR0167"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E3C3" Ref="#PWR0193"  Part="1" 
F 0 "#PWR089" H 6550 2850 30  0001 C CNN
F 1 "GND" H 6550 2780 30  0001 C CNN
F 2 "" H 6550 2850 60  0000 C CNN
F 3 "" H 6550 2850 60  0000 C CNN
	1    6550 2850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 5347E3D7
P 5750 4250
AR Path="/534A39B0/53479B00/5347AA65/5347E3D7" Ref="#PWR038"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E3D7" Ref="#PWR090"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E3D7" Ref="#PWR0116"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E3D7" Ref="#PWR0142"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E3D7" Ref="#PWR0168"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E3D7" Ref="#PWR0194"  Part="1" 
F 0 "#PWR090" H 5750 4250 30  0001 C CNN
F 1 "GND" H 5750 4180 30  0001 C CNN
F 2 "" H 5750 4250 60  0000 C CNN
F 3 "" H 5750 4250 60  0000 C CNN
	1    5750 4250
	1    0    0    -1  
$EndComp
$Comp
L R_US R10
U 1 1 5347E414
P 4950 3700
AR Path="/534A39B0/53479B00/5347AA65/5347E414" Ref="R10"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E414" Ref="R49"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E414" Ref="R78"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E414" Ref="R107"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E414" Ref="R136"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E414" Ref="R165"  Part="1" 
F 0 "R49" V 5030 3700 50  0000 C CNN
F 1 "0" V 4870 3700 50  0000 C CNN
F 2 "R0603" H 4950 3700 60  0001 C CNN
F 3 "" H 4950 3700 60  0000 C CNN
	1    4950 3700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3050 2500 5750 2500
Wire Wire Line
	6200 3200 6950 3200
Wire Wire Line
	7350 3200 8550 3200
Wire Wire Line
	7850 3000 7850 3400
Connection ~ 7850 3200
Wire Wire Line
	3900 3100 3900 3200
Wire Wire Line
	6550 2500 6550 2850
Wire Wire Line
	5750 3900 5750 4250
Wire Wire Line
	5750 3150 5750 3500
$Comp
L GND #PWR039
U 1 1 5347E485
P 7850 4250
AR Path="/534A39B0/53479B00/5347AA65/5347E485" Ref="#PWR039"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/5347E485" Ref="#PWR091"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/5347E485" Ref="#PWR0117"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/5347E485" Ref="#PWR0143"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/5347E485" Ref="#PWR0169"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/5347E485" Ref="#PWR0195"  Part="1" 
F 0 "#PWR091" H 7850 4250 30  0001 C CNN
F 1 "GND" H 7850 4180 30  0001 C CNN
F 2 "" H 7850 4250 60  0000 C CNN
F 3 "" H 7850 4250 60  0000 C CNN
	1    7850 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 3800 7850 4250
Wire Wire Line
	3900 2700 3900 2500
Connection ~ 3900 2500
Wire Wire Line
	5450 3700 5150 3700
Wire Wire Line
	4750 3700 4650 3700
Text Notes 6450 1350 0    60   ~ 12
500 KHz
$Comp
L INDUCTOR_COUPLED L1
U 1 1 534F7CFB
P 5750 2850
AR Path="/534A39B0/53479B00/5347AA65/534F7CFB" Ref="L1"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/534F7CFB" Ref="L2"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/534F7CFB" Ref="L3"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/534F7CFB" Ref="L4"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/534F7CFB" Ref="L5"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/534F7CFB" Ref="L6"  Part="1" 
F 0 "L2" V 5700 2850 40  0000 C CNN
F 1 "22uH" V 5850 2850 40  0000 C CNN
F 2 "DRQ125-220-R" H 5750 2850 60  0001 C CNN
F 3 "" H 5750 2850 60  0000 C CNN
	1    5750 2850
	1    0    0    -1  
$EndComp
$Comp
L INDUCTOR_COUPLED L1
U 2 1 534F7D0D
P 6250 2850
AR Path="/534A39B0/53479B00/5347AA65/534F7D0D" Ref="L1"  Part="2" 
AR Path="/534CCB8B/53479B00/5347AA65/534F7D0D" Ref="L2"  Part="2" 
AR Path="/534CD3E7/53479B00/5347AA65/534F7D0D" Ref="L3"  Part="2" 
AR Path="/534CD3EE/53479B00/5347AA65/534F7D0D" Ref="L4"  Part="2" 
AR Path="/534CE2A1/53479B00/5347AA65/534F7D0D" Ref="L5"  Part="2" 
AR Path="/534CE2A8/53479B00/5347AA65/534F7D0D" Ref="L6"  Part="2" 
F 0 "L2" V 6200 2850 40  0000 C CNN
F 1 "22uH" V 6350 2850 40  0000 C CNN
F 2 "DRQ125-220-R" H 6250 2850 60  0001 C CNN
F 3 "" H 6250 2850 60  0000 C CNN
	2    6250 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6550 2500 6250 2500
Wire Wire Line
	6250 2500 6250 2550
Wire Wire Line
	5750 2500 5750 2550
Text Notes 5650 2200 0    60   ~ 0
Coupled inductors\nNotice orientation\nCheck pinout!
$Comp
L PWR_FLAG #FLG040
U 1 1 534FC289
P 7850 3000
AR Path="/534A39B0/53479B00/5347AA65/534FC289" Ref="#FLG040"  Part="1" 
AR Path="/534CCB8B/53479B00/5347AA65/534FC289" Ref="#FLG092"  Part="1" 
AR Path="/534CD3E7/53479B00/5347AA65/534FC289" Ref="#FLG0118"  Part="1" 
AR Path="/534CD3EE/53479B00/5347AA65/534FC289" Ref="#FLG0144"  Part="1" 
AR Path="/534CE2A1/53479B00/5347AA65/534FC289" Ref="#FLG0170"  Part="1" 
AR Path="/534CE2A8/53479B00/5347AA65/534FC289" Ref="#FLG0196"  Part="1" 
F 0 "#FLG092" H 7850 3095 30  0001 C CNN
F 1 "PWR_FLAG" H 7850 3180 30  0000 C CNN
F 2 "" H 7850 3000 60  0000 C CNN
F 3 "" H 7850 3000 60  0000 C CNN
	1    7850 3000
	1    0    0    -1  
$EndComp
Text Notes 7350 2700 0    60   ~ 0
Output of SEPIC converter\nis driven!
Wire Wire Line
	5800 3200 5750 3200
Connection ~ 5750 3200
Wire Wire Line
	6250 3150 6250 3200
Connection ~ 6250 3200
Text Notes 4800 2900 0    60   ~ 0
DRQ125-220-R
Text Notes 5900 3550 0    60   ~ 0
Inductance >=14uH
Text Notes 5900 3850 0    60   ~ 0
DMN3404L
Text Notes 6000 3950 0    60   ~ 0
SOT23
Text Notes 2450 3200 0    60   ~ 0
caps = TDK 1206?\nAutomotive\nI can always go to 0802 lower voltage
Text Notes 8200 3600 0    60   ~ 0
1812 Packages available 16V 33uF\nCan increase to 2200 to get more
$EndSCHEMATC
