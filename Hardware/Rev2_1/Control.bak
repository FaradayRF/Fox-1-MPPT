EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:KB1LQC
LIBS:TL1451_MPPT_Flight_Rev1-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 13 37
Title "Fox-1 Maximum Power Point Tracker"
Date "3 sep 2016"
Rev "2.0"
Comp "The Radio Amateur Satellite Corporation"
Comment1 "Bryce Salmi, KB1LQC"
Comment2 "Brent Salmi, KB1LQD"
Comment3 "Based on Rochester Institute of Technology P13271 Design"
Comment4 ""
$EndDescr
$Sheet
S 5700 1300 1450 650 
U 5347AA65
F0 "Non-Synchronouse_BUCK" 50
F1 "BUCK_Non-Synch.sch" 50
F2 "PMOS_PWM" I L 5700 1800 60 
F3 "SWITCH-IN" I L 5700 1600 60 
F4 "SWITCH-OUT" O R 7150 1600 60 
$EndSheet
Text HLabel 1600 1600 0    60   Input ~ 0
PANEL-IN
Text HLabel 10100 1600 2    60   Output ~ 0
MPPT-OUT
Text HLabel 7350 4100 2    60   Output ~ 0
VREF
Wire Wire Line
	6900 4100 7350 4100
Wire Wire Line
	1600 1600 5700 1600
Wire Wire Line
	7150 1600 10100 1600
Text HLabel 4600 4400 0    60   Input ~ 0
Verror
$Comp
L GND #PWR034
U 1 1 5347B729
P 5150 5650
AR Path="/534A39B0/53479B00/5347B729" Ref="#PWR034"  Part="1" 
AR Path="/534CCB8B/53479B00/5347B729" Ref="#PWR0106"  Part="1" 
AR Path="/534CD3E7/53479B00/5347B729" Ref="#PWR0138"  Part="1" 
AR Path="/534CD3EE/53479B00/5347B729" Ref="#PWR0170"  Part="1" 
AR Path="/534CE2A1/53479B00/5347B729" Ref="#PWR0240"  Part="1" 
AR Path="/534CE2A8/53479B00/5347B729" Ref="#PWR0202"  Part="1" 
F 0 "#PWR0240" H 5150 5650 30  0001 C CNN
F 1 "GND" H 5150 5580 30  0001 C CNN
F 2 "" H 5150 5650 60  0000 C CNN
F 3 "" H 5150 5650 60  0000 C CNN
	1    5150 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 5650 5150 5150
Wire Wire Line
	5150 5150 5450 5150
$Comp
L C C3
U 1 1 5347B788
P 7450 5400
AR Path="/534A39B0/53479B00/5347B788" Ref="C3"  Part="1" 
AR Path="/534CCB8B/53479B00/5347B788" Ref="C21"  Part="1" 
AR Path="/534CD3E7/53479B00/5347B788" Ref="C30"  Part="1" 
AR Path="/534CD3EE/53479B00/5347B788" Ref="C39"  Part="1" 
AR Path="/534CE2A1/53479B00/5347B788" Ref="C48"  Part="1" 
AR Path="/534CE2A8/53479B00/5347B788" Ref="C57"  Part="1" 
F 0 "C48" H 7250 5500 50  0000 L CNN
F 1 "0.1uF" H 7150 5425 50  0000 L CNN
F 2 "C0402" H 7225 5350 50  0000 C CNN
F 3 "" H 7450 5400 60  0000 C CNN
F 4 "16V" H 7275 5275 50  0000 C CNN "Rating"
	1    7450 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 5150 7450 5200
Wire Wire Line
	7450 5600 7450 5700
$Comp
L GND #PWR035
U 1 1 5347B7DA
P 7450 5700
AR Path="/534A39B0/53479B00/5347B7DA" Ref="#PWR035"  Part="1" 
AR Path="/534CCB8B/53479B00/5347B7DA" Ref="#PWR0107"  Part="1" 
AR Path="/534CD3E7/53479B00/5347B7DA" Ref="#PWR0139"  Part="1" 
AR Path="/534CD3EE/53479B00/5347B7DA" Ref="#PWR0171"  Part="1" 
AR Path="/534CE2A1/53479B00/5347B7DA" Ref="#PWR0241"  Part="1" 
AR Path="/534CE2A8/53479B00/5347B7DA" Ref="#PWR0203"  Part="1" 
F 0 "#PWR0241" H 7450 5700 30  0001 C CNN
F 1 "GND" H 7450 5630 30  0001 C CNN
F 2 "" H 7450 5700 60  0000 C CNN
F 3 "" H 7450 5700 60  0000 C CNN
	1    7450 5700
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 5347BC3C
P 3250 4600
AR Path="/534A39B0/53479B00/5347BC3C" Ref="C2"  Part="1" 
AR Path="/534CCB8B/53479B00/5347BC3C" Ref="C20"  Part="1" 
AR Path="/534CD3E7/53479B00/5347BC3C" Ref="C29"  Part="1" 
AR Path="/534CD3EE/53479B00/5347BC3C" Ref="C38"  Part="1" 
AR Path="/534CE2A1/53479B00/5347BC3C" Ref="C47"  Part="1" 
AR Path="/534CE2A8/53479B00/5347BC3C" Ref="C56"  Part="1" 
F 0 "C47" H 3000 4700 50  0000 L CNN
F 1 "220pF" H 2900 4600 50  0000 L CNN
F 2 "C0402" H 3000 4525 50  0000 C CNN
F 3 "" H 3250 4600 60  0000 C CNN
F 4 "16V" H 3050 4450 50  0000 C CNN "Rating"
F 5 "NPO/C0G" H 2950 4375 50  0000 C CNN "Type"
	1    3250 4600
	1    0    0    -1  
$EndComp
$Comp
L R_US R5
U 1 1 5347BC50
P 3650 4600
AR Path="/534A39B0/53479B00/5347BC50" Ref="R5"  Part="1" 
AR Path="/534CCB8B/53479B00/5347BC50" Ref="R44"  Part="1" 
AR Path="/534CD3E7/53479B00/5347BC50" Ref="R73"  Part="1" 
AR Path="/534CD3EE/53479B00/5347BC50" Ref="R102"  Part="1" 
AR Path="/534CE2A1/53479B00/5347BC50" Ref="R131"  Part="1" 
AR Path="/534CE2A8/53479B00/5347BC50" Ref="R160"  Part="1" 
F 0 "R131" H 3800 4700 50  0000 C CNN
F 1 "4.99K" H 3800 4600 50  0000 C CNN
F 2 "R0402" H 3825 4450 50  0000 C CNN
F 3 "" H 3650 4600 60  0000 C CNN
F 4 "0.1%" H 3800 4525 50  0000 C CNN "Tolerance"
	1    3650 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 4250 5450 4250
Wire Wire Line
	3650 4250 3650 4400
Wire Wire Line
	3250 4400 3250 4100
Wire Wire Line
	3250 4100 5450 4100
$Comp
L GND #PWR036
U 1 1 5347BCBF
P 3650 4900
AR Path="/534A39B0/53479B00/5347BCBF" Ref="#PWR036"  Part="1" 
AR Path="/534CCB8B/53479B00/5347BCBF" Ref="#PWR0108"  Part="1" 
AR Path="/534CD3E7/53479B00/5347BCBF" Ref="#PWR0140"  Part="1" 
AR Path="/534CD3EE/53479B00/5347BCBF" Ref="#PWR0172"  Part="1" 
AR Path="/534CE2A1/53479B00/5347BCBF" Ref="#PWR0242"  Part="1" 
AR Path="/534CE2A8/53479B00/5347BCBF" Ref="#PWR0204"  Part="1" 
F 0 "#PWR0242" H 3650 4900 30  0001 C CNN
F 1 "GND" H 3650 4830 30  0001 C CNN
F 2 "" H 3650 4900 60  0000 C CNN
F 3 "" H 3650 4900 60  0000 C CNN
	1    3650 4900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR037
U 1 1 5347BCD1
P 3250 4900
AR Path="/534A39B0/53479B00/5347BCD1" Ref="#PWR037"  Part="1" 
AR Path="/534CCB8B/53479B00/5347BCD1" Ref="#PWR0109"  Part="1" 
AR Path="/534CD3E7/53479B00/5347BCD1" Ref="#PWR0141"  Part="1" 
AR Path="/534CD3EE/53479B00/5347BCD1" Ref="#PWR0173"  Part="1" 
AR Path="/534CE2A1/53479B00/5347BCD1" Ref="#PWR0243"  Part="1" 
AR Path="/534CE2A8/53479B00/5347BCD1" Ref="#PWR0205"  Part="1" 
F 0 "#PWR0243" H 3250 4900 30  0001 C CNN
F 1 "GND" H 3250 4830 30  0001 C CNN
F 2 "" H 3250 4900 60  0000 C CNN
F 3 "" H 3250 4900 60  0000 C CNN
	1    3250 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 4800 3250 4900
Wire Wire Line
	3650 4800 3650 4900
NoConn ~ 6900 4400
NoConn ~ 6900 4550
NoConn ~ 6900 4700
NoConn ~ 6900 4850
NoConn ~ 6900 5000
Wire Wire Line
	5450 5000 5150 5000
Text Label 5150 5000 0    60   ~ 0
PWM1
Wire Wire Line
	5300 1800 5700 1800
Wire Wire Line
	5000 4850 5450 4850
Text Notes 3175 4025 0    50   Italic 10
500KHz Oscillator
$Comp
L TL1451A U2
U 1 1 534AE819
P 6200 4550
AR Path="/534A39B0/53479B00/534AE819" Ref="U2"  Part="1" 
AR Path="/534CCB8B/53479B00/534AE819" Ref="U9"  Part="1" 
AR Path="/534CD3E7/53479B00/534AE819" Ref="U12"  Part="1" 
AR Path="/534CD3EE/53479B00/534AE819" Ref="U15"  Part="1" 
AR Path="/534CE2A1/53479B00/534AE819" Ref="U18"  Part="1" 
AR Path="/534CE2A8/53479B00/534AE819" Ref="U21"  Part="1" 
F 0 "U18" H 5800 5300 50  0000 C CNN
F 1 "TL1451A" H 5900 5225 50  0000 C CNN
F 2 "PW16" H 5850 5150 50  0000 C CNN
F 3 "" H 6200 4550 60  0000 C CNN
	1    6200 4550
	1    0    0    -1  
$EndComp
$Sheet
S 3900 1950 1200 450 
U 534AEBB1
F0 "MOSFET Driver" 50
F1 "MOSFET_Driver.sch" 50
F2 "PWM-IN" U L 3900 2200 60 
F3 "GATE-DRIVE" B R 5100 2200 60 
F4 "Vpanel" I L 3900 2050 60 
$EndSheet
Text Notes 3850 5050 0    50   ~ 0
DTC GND = 100% capable
Wire Wire Line
	3900 2200 3600 2200
Text Label 3600 2200 0    60   ~ 0
PWM1
Wire Wire Line
	5300 1800 5300 2200
Wire Wire Line
	5300 2200 5100 2200
Text Label 1700 1600 0    60   ~ 0
Vpanel
Text Label 7100 5150 0    60   ~ 0
Vpanel
Wire Wire Line
	6900 5150 7750 5150
Wire Wire Line
	3900 2050 3600 2050
Wire Wire Line
	3600 2050 3600 1600
Connection ~ 3600 1600
$Comp
L GND #PWR038
U 1 1 534E37F7
P 7050 4350
AR Path="/534A39B0/53479B00/534E37F7" Ref="#PWR038"  Part="1" 
AR Path="/534CCB8B/53479B00/534E37F7" Ref="#PWR0110"  Part="1" 
AR Path="/534CD3E7/53479B00/534E37F7" Ref="#PWR0142"  Part="1" 
AR Path="/534CD3EE/53479B00/534E37F7" Ref="#PWR0174"  Part="1" 
AR Path="/534CE2A1/53479B00/534E37F7" Ref="#PWR0244"  Part="1" 
AR Path="/534CE2A8/53479B00/534E37F7" Ref="#PWR0206"  Part="1" 
F 0 "#PWR0244" H 7050 4350 30  0001 C CNN
F 1 "GND" H 7050 4280 30  0001 C CNN
F 2 "" H 7050 4350 60  0000 C CNN
F 3 "" H 7050 4350 60  0000 C CNN
	1    7050 4350
	1    0    0    -1  
$EndComp
Text Notes 550  7250 0    120  ~ 24
NOTES
Wire Wire Line
	4600 4400 5450 4400
$Comp
L C C6
U 1 1 54807F9C
P 7750 5400
AR Path="/534A39B0/53479B00/54807F9C" Ref="C6"  Part="1" 
AR Path="/534CCB8B/53479B00/54807F9C" Ref="C60"  Part="1" 
AR Path="/534CD3E7/53479B00/54807F9C" Ref="C69"  Part="1" 
AR Path="/534CD3EE/53479B00/54807F9C" Ref="C74"  Part="1" 
AR Path="/534CE2A1/53479B00/54807F9C" Ref="C79"  Part="1" 
AR Path="/534CE2A8/53479B00/54807F9C" Ref="C84"  Part="1" 
F 0 "C79" H 7850 5500 50  0000 L CNN
F 1 "1uF" H 7850 5425 50  0000 L CNN
F 2 "C0603" H 7975 5350 50  0000 C CNN
F 3 "" H 7750 5400 60  0000 C CNN
F 4 "16V" H 7925 5275 50  0000 C CNN "Rating"
	1    7750 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7750 5600 7750 5700
$Comp
L GND #PWR039
U 1 1 54807FA3
P 7750 5700
AR Path="/534A39B0/53479B00/54807FA3" Ref="#PWR039"  Part="1" 
AR Path="/534CCB8B/53479B00/54807FA3" Ref="#PWR0111"  Part="1" 
AR Path="/534CD3E7/53479B00/54807FA3" Ref="#PWR0143"  Part="1" 
AR Path="/534CD3EE/53479B00/54807FA3" Ref="#PWR0175"  Part="1" 
AR Path="/534CE2A1/53479B00/54807FA3" Ref="#PWR0245"  Part="1" 
AR Path="/534CE2A8/53479B00/54807FA3" Ref="#PWR0207"  Part="1" 
F 0 "#PWR0245" H 7750 5700 30  0001 C CNN
F 1 "GND" H 7750 5630 30  0001 C CNN
F 2 "" H 7750 5700 60  0000 C CNN
F 3 "" H 7750 5700 60  0000 C CNN
	1    7750 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7750 5150 7750 5200
Connection ~ 7450 5150
Wire Wire Line
	7050 4350 7050 4250
Wire Wire Line
	7050 4250 6900 4250
Wire Wire Line
	5450 4550 5150 4550
Wire Wire Line
	5150 4550 5150 4700
Wire Wire Line
	5150 4700 5450 4700
$Comp
L GND #PWR0112
U 1 1 5481871D
P 5000 4900
AR Path="/534CCB8B/53479B00/5481871D" Ref="#PWR0112"  Part="1" 
AR Path="/534A39B0/53479B00/5481871D" Ref="#PWR040"  Part="1" 
AR Path="/534CD3E7/53479B00/5481871D" Ref="#PWR0144"  Part="1" 
AR Path="/534CD3EE/53479B00/5481871D" Ref="#PWR0176"  Part="1" 
AR Path="/534CE2A1/53479B00/5481871D" Ref="#PWR0246"  Part="1" 
AR Path="/534CE2A8/53479B00/5481871D" Ref="#PWR0208"  Part="1" 
F 0 "#PWR0246" H 5000 4900 30  0001 C CNN
F 1 "GND" H 5000 4830 30  0001 C CNN
F 2 "" H 5000 4900 60  0000 C CNN
F 3 "" H 5000 4900 60  0000 C CNN
	1    5000 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 4900 5000 4850
Text Notes 7050 4650 0    50   ~ 0
PWM2 shares oscillator with PWM1\nUnusable due to fault propagation\nTL1451 failure  1/6th power loss instead of 1/3rd
Text Notes 600  7450 0    60   ~ 0
* This MPPT implements a set-point constant voltage tracking algorithm based on panel temperature.\n* RIT MPPT Team: Brenton Salmi (KB1LQD), Bryce Salmi (KB1LQC), Ian MacKenzie (KB3OCF), Daniel Corriero.\n* NASA derating taken into account, not gauranteed
Text Notes 2150 1550 0    60   ~ 0
HIGH CURRENT = 1A RATED
Text Notes 8675 1750 0    60   Italic 0
VOUT MAX = 4.33V
Text Notes 2150 1725 0    60   Italic 0
VIN MAX = 6.5V
Text Notes 8675 1550 0    60   ~ 0
HIGH CURRENT = 1A RATED
Wire Notes Line
	3450 1150 3450 2500
Wire Notes Line
	3450 2500 7225 2500
Wire Notes Line
	7225 2500 7225 1150
Wire Notes Line
	7225 1150 3450 1150
Text Notes 4300 1125 0    120  Italic 24
Switch Mode Converter
Text Notes 7350 4000 0    60   Italic 0
VREF = 2.5V
Text Notes 7350 4300 0    50   ~ 0
TL1451A reference is very loose\nUse external reference on next revision.
$EndSCHEMATC
